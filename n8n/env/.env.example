# Autoposting n8n baseline env (Stage 0)
# Fill real values in n8n secret storage / deployment env.

# -----------------------------------------------------------------------------
# n8n credential names (must match credential display names in n8n UI)
# -----------------------------------------------------------------------------
N8N_CRED_POSTGRES=Neon Autoposting DB
N8N_CRED_TELEGRAM_BOT=AutoPostAssistantBot
N8N_CRED_S3=Autopost S3

# -----------------------------------------------------------------------------
# Base URL and webhook paths
# -----------------------------------------------------------------------------
N8N_BASE_URL=https://n8n.example

WF01_PUSH_WEBHOOK_PATH=autoposting-01-ingest-push-test
WF01_PULL_WEBHOOK_PATH=autoposting-01-ingest-pull-test
WF02_DISPATCHER_WEBHOOK_PATH=autoposting-02-dispatcher-test
WF03_MONITOR_WEBHOOK_PATH=autoposting-03-monitor-test
WF11_BOT_INGEST_WEBHOOK_PATH=autoposting-11-bot-ingest-test
WF12_BOT_ENGINE_WEBHOOK_PATH=autoposting-12-bot-engine-test
WF13_BOT_MONITOR_WEBHOOK_PATH=autoposting-13-bot-monitor-test
WF_ADAPTER_TELEGRAM_WEBHOOK_PATH=autoposting-adapter-telegram-test
WF_ADAPTER_MAX_WEBHOOK_PATH=autoposting-adapter-max-test

# Optional full URLs for tests/workflows/.env
WF01_PUSH_WEBHOOK_URL=
WF01_PULL_WEBHOOK_URL=
WF02_DISPATCHER_WEBHOOK_URL=
WF03_MONITOR_WEBHOOK_URL=
WF11_BOT_INGEST_WEBHOOK_URL=
WF12_BOT_ENGINE_WEBHOOK_URL=
WF13_BOT_MONITOR_WEBHOOK_URL=
WF_ADAPTER_TELEGRAM_WEBHOOK_URL=
WF_ADAPTER_MAX_WEBHOOK_URL=

# -----------------------------------------------------------------------------
# Ingress auth and endpoint secrets
# -----------------------------------------------------------------------------
N8N_WEBHOOK_AUTH_HEADER=Authorization
N8N_WEBHOOK_AUTH_VALUE=Bearer change_me

INGEST_SECRET_HEADER=X-Ingest-Secret
INGEST_SECRET_VALUE=change_me

BOT_SECRET_HEADER=X-Bot-Secret
BOT_SECRET_VALUE=change_me

# -----------------------------------------------------------------------------
# 01_ingest runtime tuning
# -----------------------------------------------------------------------------
INGEST_MAX_PAYLOAD_BYTES=262144
INGEST_RPS=10
INGEST_HASH_DROP_WINDOW_SEC=10
PULL_CHUNK_SIZE=100
PULL_HTTP_TIMEOUT_SEC=20

# -----------------------------------------------------------------------------
# 02_dispatcher runtime tuning
# -----------------------------------------------------------------------------
DISPATCH_CRON_SEC=10
DISPATCH_WORKSPACE_WINDOW=50
DISPATCH_CLAIM_LIMIT=100
DISPATCH_LEASE_SECONDS=300

# -----------------------------------------------------------------------------
# 03_monitor runtime tuning
# -----------------------------------------------------------------------------
MONITOR_CRON_SEC=30
MONITOR_DEAD_ALERT_THRESHOLD=1
MONITOR_FAILED_PERMANENT_WINDOW_MIN=15
MONITOR_FAILED_PERMANENT_THRESHOLD=5
MONITOR_PAUSED_CHANNELS_THRESHOLD=1
MONITOR_ALERT_COOLDOWN_SECONDS=300
MONITOR_ALERT_WEBHOOK_URL=
MONITOR_ALERT_WEBHOOK_AUTH_HEADER=
MONITOR_ALERT_WEBHOOK_AUTH_VALUE=

# -----------------------------------------------------------------------------
# Adapter/runtime settings
# -----------------------------------------------------------------------------
TELEGRAM_API_BASE_URL=https://api.telegram.org
MAX_API_BASE_URL=https://api.max.ru
ADAPTER_TELEGRAM_TEXT_LIMIT=4096
ADAPTER_MAX_TEXT_LIMIT=4000
MAX_UPLOAD_TIMEOUT_SEC=60
MAX_MESSAGE_TIMEOUT_SEC=30

# -----------------------------------------------------------------------------
# Object storage
# -----------------------------------------------------------------------------
S3_BUCKET=autoposting-media
S3_PREFIX=origin/
S3_PUBLIC_BASE_URL=https://storage.example/autoposting-media

# -----------------------------------------------------------------------------
# Demo sources (Stage 0 baseline)
# -----------------------------------------------------------------------------
DEMO_RSS_URL=https://hnrss.org/frontpage
DEMO_API_PATH=autoposting-demo-source-api
DEMO_API_KEY_HEADER=X-API-Key
DEMO_API_KEY_VALUE=change_me
DEMO_GSHEET_ID=
DEMO_GSHEET_SHEET=Sheet1
DEMO_GSHEET_RANGE=A:G
